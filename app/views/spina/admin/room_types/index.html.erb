<%= render Spina::UserInterface::HeaderComponent.new do |header| %>
  <% header.actions do %>
    <% if @resource %>
      <%= link_to spina.edit_admin_resource_path(@resource), class: 'btn btn-default' do %>
        <%= heroicon('cog', style: :solid, class: 'text-gray-300 w-5 h-5 -ml-1 mr-1') %>
        <%=t 'spina.resources.settings', label: @resource.label %>
      <% end %>
    <% end %>
    
    <div class="ml-3">
      <%#= render Spina::Pages::NewPageButtonComponent.new(@page_templates, resource: @resource) %>
    </div>
  <% end %>
  
  <% header.navigation do %>
    <nav class="-mb-1 md:-mb-3 mt-4">
      <ul class="inline-flex flex-wrap w-auto rounded-md bg-white">
        <%= render Spina::UserInterface::TabLinkComponent.new(spina.admin_pages_path, active: @resource.nil?) do %>
          <%= heroicon('collection', style: :solid, class: "h-4 w-4 mr-1 -ml-1 opacity-75") %>
          <%=t 'spina.website.main' %>
        <% end %>
        
        <% Spina::Resource.order(:name).each do |resource| %>
        
          <%= render Spina::UserInterface::TabLinkComponent.new(spina.admin_pages_path(resource_id: resource.id), active: @resource == resource) do %>
            <%= heroicon('collection', class: 'h-4 w-4 mr-1 -ml-1 opacity-75') %>
            <%= resource.label %>
          <% end %>
          
        <% end %>
      </ul>
    </nav>
  <% end %>
<% end %>

<div class="my-8 border-t border-gray-200">

  <%= render @room_types %>

  
  <div data-controller="infinite-scroll">
    <%= turbo_frame_tag "room_types" do %>
      <%= turbo_frame_tag "room_types-#{@room_types.current_page}" do %>
        <%= render @room_types %>
        
        <% if @room_types.next_page %>
          <%= turbo_frame_tag "room_types-#{@room_types.next_page}", data: {action: "turbo:frame-load->infinite-scroll#load"} do %>
            <%= link_to t('spina.ui.load_more'), path_to_next_page(@room_types), class: "btn btn-default", data: {infinite_scroll_target: "button"} %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>